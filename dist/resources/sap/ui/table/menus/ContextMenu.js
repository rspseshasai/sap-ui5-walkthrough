/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../utils/TableUtils","sap/ui/core/Element","sap/ui/unified/Menu","sap/ui/unified/MenuItem"],function(e,t,i,n){"use strict";const o=t.extend("sap.ui.table.menus.ContextMenu",{metadata:{library:"sap.ui.table",aggregations:{menu:{type:"sap.ui.unified.Menu",multiple:false}}}});o.prototype.init=function(){t.prototype.init.apply(this,arguments);this.oCellFilterMenuItem=null};o.prototype.exit=function(){t.prototype.exit.apply(this,arguments);delete this.oCellFilterMenuItem};o.prototype.invalidate=function(){};o.prototype.open=function(e,t){this.getMenu().openAsContextMenu(e,t)};o.prototype.close=function(){this.getMenu()?.close()};o.prototype.getTable=function(){const t=this.getParent();return e.isA(t,"sap.ui.table.Table")?t:null};o.prototype.initContent=function(e,t){if(!this.getMenu()){this.setMenu(new i)}this._initMenuItems(e,t)};o.prototype.isEmpty=function(){return!this.getMenu()?.getItems().some(e=>e.getVisible())};o.prototype._initMenuItems=function(t,i){const o=this.getMenu();const s=this.getTable();if(s.getEnableCellFilter()&&i?.isFilterableByMenu()&&!t.isGroupHeader()&&!t.isSummary()){if(!this.oCellFilterMenuItem){this.oCellFilterMenuItem=new n({text:e.getResourceText("TBL_FILTER")});o.insertItem(this.oCellFilterMenuItem,0)}this.oCellFilterMenuItem.detachSelect(l,this);this.oCellFilterMenuItem.attachSelect({row:t,column:i},l,this);this.oCellFilterMenuItem.setVisible(true)}else{this.oCellFilterMenuItem?.setVisible(false)}};function l(e,{row:t,column:i}){const n=this.getTable();const o=t.getRowBindingContext();const l=i.getFilterProperty();let s=o.getProperty(l);if(s!=null&&typeof s!=="string"){s=s.toString()}if(n.getEnableCustomFilter()){n.fireCustomFilter({column:i,value:s})}else{n.filter(i,s)}}o.prototype.onLocalizationChanged=function(e){if("language"in e.changes){this.destroyMenu()}};return o});
//# sourceMappingURL=ContextMenu.js.map